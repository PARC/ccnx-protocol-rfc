<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>The CCNx URI Scheme</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="The CCNx URI Scheme">
<meta name="keywords" content="Content Centric Networking, Information Centric Networking">
<meta name="generator" content="xml2rfc v1.35dev (http://xml.resource.org/)">
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: small; color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: small; font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: small; font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: small; text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">ICNRG</td><td class="header">M. Mosko</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">C. Wood</td></tr>
<tr><td class="header">Intended status: Experimental</td><td class="header">PARC, Inc.</td></tr>
<tr><td class="header">Expires: September 15, 2016</td><td class="header">March 14, 2016</td></tr>
</table></td></tr></table>
<h1><br />The CCNx URI Scheme<br />draft-mosko-icnrg-ccnxuri-03</h1>

<h3>Abstract</h3>

<p>
        This document defines an RFC3986 URI compliant identifier called a Labeled
        Segment URI in which name segments carry a label. This allows differentiation
        between unrelated resources with similar identifiers. This document also
        specifies the CCNx URI scheme, called "ccnx:," which conforms to the
        labeled segment encoding rules presented here. The CCNx URI scheme
        applies specific labels to each name segment of a URI to disambiguate between
        resources with similar names. This document defines a specific set of
        segment labels with label semantics.
        
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on September 15, 2016.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2016 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Requirements Language<br />
<a href="#LSU">2.</a>&nbsp;
URI path segment grammar for label=value pairs<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#segments">2.1.</a>&nbsp;
Labeled Segments<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#compare">2.2.</a>&nbsp;
URI comparison<br />
<a href="#CCNx">3.</a>&nbsp;
Application to CCNx Names<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#labels">3.1.</a>&nbsp;
The ccnx Scheme<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#URI">3.2.</a>&nbsp;
URI Representation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Examples">3.2.1.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#compareb">3.3.</a>&nbsp;
ccnx: URI comparison<br />
<a href="#IRI">4.</a>&nbsp;
IRI Considerations<br />
<a href="#Acknowledgements">5.</a>&nbsp;
Acknowledgements<br />
<a href="#IANA">6.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">7.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>A Labeled Segment is an <a class='info' href='#RFC3986'>URI<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> [RFC3986] compliant convention
        that allows an application or protocol to embed labels in name segments, thus disambiguating
        the resource identified by the path.  Labeled Segment URIs also allow for
        query and fragment components to follow the Labeled Segment form.
      
</p>
<p>Some protocols may wish to disambiguate name segments between different identifier
        spaces, such as "version" and "page".  Other protocols may wish to use a type system
        such as "/str=parc/int=7" and "/str=parc/str=7".  Labeled Segment URIs provide an unambiguous
        and flexible representation in systems that allow resources with otherwise similar names.
</p>
<p>It is not sufficient to leave the determination of type to application-specific
        conventions.  In a networked system with multiple applications accessing resources
        generated by other applications, there needs to be a set of common
        conventions.  For example, if one application uses a base 64 encoding of a frame number,
        e.g. base64(0xbdea), and another uses "ver=" to represent a document version,
        there is an ambiguity because base64(0xbdea) is the string "ver=".
</p>
<p>Labeled Segments defines "ls-segment" as "label[:param]=value", where the
        value only contains unreserved, percent-encoded, or certain sub-delim
        characters.  In the previous example, one application would say "/frame=%BD%EA"
        and the other would say "/ver=".
</p>
<p>In this document, we use <a class='info' href='#RFC3986'>URI<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> [RFC3986] terminology, therefore a URI
      and CCNx Name are both composed of a URI path, which is a collection  of name segments.
      We do not use the term "name component" as was common in old CCNx. In this document,
      the word "segment" alone means "name segment."
</p>
<p>URIs conforming to the CCNx URI scheme carry a label for each name segment.
          The contents of each name segment must conform to the label semantics.
          Example segment types are "Binary Segment", "Name", and "KeyId".
</p>
<p>We use Labeled Segment URIs as the canonical, human-readable representation.
        There is an unambiguous, one-to-one correspondence between
      an absolute LS-URI path and a Labeled Name.  Relative URI representations
      are removed during encoding, so no relative name ends up in wire format.
      Some labels are URIs that are <a class='info' href='#RFC3987'>IRI<span> (</span><span class='info'>Duerst, M. and M. Suignard, &ldquo;Internationalized Resource Identifiers (IRIs),&rdquo; January&nbsp;2005.</span><span>)</span></a> [RFC3987] compatible.
</p>
<p>Labeled Names shall be used everywhere a Name is used in CCNx, such as
      in the Name of an Interest or Content Object.  They are also used in Links,
      KeyLocators, or any other place requiring a name.  When encoded for the wire, a binary
      representation is used, depending on the specific wire format codec, which
      is outside the scope of this document.
      
</p>
<p>This document specifies:
        </p>
<ul class="text">
<li>the ccnx scheme.
</li>
<li>a canonical URI representation.
</li>
</ul><p>
      
</p>
<p>Formal grammars use the <a class='info' href='#RFC5234'>ABNF<span> (</span><span class='info'>Crocker, D., Ed. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; January&nbsp;2008.</span><span>)</span></a> [RFC5234] notation.
</p>
<p>TODO: We have not adopted Requirements Language yet.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD
          NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as
          described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<a name="LSU"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
URI path segment grammar for label=value pairs</h3>

<a name="segments"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Labeled Segments</h3>

<p>This section describes the formal grammar for Labeled Segments
          using <a class='info' href='#RFC5234'>ABNF<span> (</span><span class='info'>Crocker, D., Ed. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; January&nbsp;2008.</span><span>)</span></a> [RFC5234] notation.  We do not impose restrictions on the length
          of labels or values.  The semantics of values are URI scheme specific, here we only describe the
          meta-structure of Labeled Segments.  We begin by reviewing some definitions from
          <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> that define an absolute path URI.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
hier-part     = "//" authority path-abempty
                / path-absolute
                / &lt;other path types&gt;
path-absolute = "/" [ segment-nz *( "/" segment ) ]
segment       = *pchar
segment-nz    = 1*pchar
pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
query         = *( pchar / "/" / "?" )
fragment      = *( pchar / "/" / "?" )
pct-encoded   = "%" HEXDIG HEXDIG
unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
reserved      = gen-delims / sub-delims
gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
sub-delims    = "!" / "$" / "&amp;" / "'" / "(" / ")"
                    / "*" / "+" / "," / ";" / "="
</pre></div>
<p>Labeled Segments defines a new segment type that provides unambiguous representation
          of a segment's label and its value.  We define the top-level LS-URI as the same
          form as a URI, wherein each part conforms to the Label Segment grammar, which is
          a subset of the URI grammar.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
LS-URI           = scheme ":" ls-hier-part ["?" ls-query]
                   ["#" fragment]
ls-hier-part     = ["//" authority] ls-path-absolute
ls-path-absolute = "/" [ first-segment *( "/" ls-segment ) ]
first-segment    = *lpv-segment-nz
ls-segment       = lpv-segment / v-segment
lpv-segment      = label [":" param] "=" *s-value-nz
v-segment        = *s-value-nz
ls-segment-nz    = lpv-segment-nz / v-segment-nz
lpv-segment-nz   = label [":" param] "=" s-value-nz
v-segment-nz     = s-value-nz
label            = alpha-t / num-t
param            = alpha-t / num-t
s-value-nz       = 1*(s-pchar)

ls-query         = *1 ( lpv-component / v-component
                        *( "&amp;" (lpv-component / v-component) ) )
lpv-component    = label [":" param] "=" q-value
v-component      = q-value
q-value          = *(q-pchar)

alpha-t          = ALPHA *(ALPHA / DIGIT)
num-t            = dec-t / hex-t
dec-t            = 1*(DIGIT)
hex-t            = "0x" 1*(HEXDIG)
ls-pchar         =  unreserved / pct-encoded / ls-sub-delims
s-pchar          = ls-pchar / ":" / "@" / "&amp;"
q-pchar          = ls-pchar / ":" / "@" / "/"
ls-sub-delims    = "!" / "$" / "'" / "(" / ")"
                       / "*" / "+" / "," / ";"
</pre></div>
<p>A Labeled Segment URI (LS-URI) contains a scheme that uses Labeled Segments,
          an optional authority, a labeled segment absolute path (ls-path-aboslute),
          an optional labeled segment query (ls-query), and a fragment.  The authority
          is URI scheme specific and the fragment is independent of the URI scheme.
</p>
<p>the ls-path-aboslute is a first-segment followed by zero or more "/" ls-segment.
            The first-segment may be empty or a non-zero lpv-segment (lpv-segment-nz).
            If it is empty, it corresponds to a 0-lenght name which typically is a default
            route.  It is distinct from a 1-segment name with no value.  The first-segment
            MUST either be empty (the 0-lenght name) or MUST have a value.
            If the first-segment is an lpv-segment-nz, then it will have a value.
</p>
<p>An ls-segment may (lpv-segment) or may not (v-segment) have a label.
            A particular LS-URI scheme MUST define how unlabeled segments are processed, and MAY
            disallow them.  A v-segment is an implied type.  Once the implied type is resolved,
            it functions like an lpv-segment.
</p>
<p>An lpv-segment has a label, optional parameter, and optional value (s-value-nz).
            An empty value is a 0-length name segment with a defined type.  This is distinct
            from a 0-length first-segment, which has neither type nor value.
</p>
<p>lpv-segment values come from the s-pchar set, which excludes the "=" equal
          sign.  This means that the only equal sign in a name segment must be the
          delimiter between the label:param and the value.  Within the value, an equal
          sign must be percent encoded.
</p>
<p>lpv-segment labels and values may be alpha-numeric identifiers or numbers
          (decimal or hexadecimal).  For example, one scheme may define the labels "name",
          "version", and "frame".  A version may be of types "date" or "serial", meaning
          that the version is either a date or a monotonic serial number.  Some examples
          of resulting LS-URIs are: "/name=parc/name=csl/version:date=20130930" or
          "/name=alice_smith/version:serial=299".  The parameters may also indicate
          an instance of a label, such as "/name=books/year:1=1920/year:3=1940",
          where there are scheme or application semantics associated with "year:1" and "year:3".
</p>
<p>lpv-segment labels and parameters may also be numbers.  For example, a
          protocol with a binary and URI representation may not have pre-defined
          all possible labels. In such cases, it could render unknown labels as
          their binary value, such as "/name=marc/x2003=green".
</p>
<p>The ls-query component is a non-hierarchical set of components
          separated by "&amp;".  Each ls-query component is either a lpv-component
          or a v-component, similar to segments.  They are based on q-value, which
          uses q-pchar that excludes "&amp;", but includes "/".  This allows
          an LS-URI scheme to use type query parameters.
</p>
<p>Labeled Segments allow for dot-segments "." and ".." in a v-segment.  They operate as normal.
          A single dot "." refers to the current hierarchy level and may be elided when the URI
          is resolved.  Double dot ".." segments pop off the previous non-dot segment.
          An lpv-segment with a value of "." or ".." is not a dot-segment.  It means that the
          value of the given label is "." or "..".  For example /a=parc/b=csl/.. is equivalent
          to "/a=parc/b=csl", but the LS-URI "/a=parc/b=csl/c=.." does not contain a dot-segment.
</p>
<a name="compare"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
URI comparison</h3>

<p>An LS-URI scheme MUST specify the normalization rules
          to be used, following the methods of <a class='info' href='#RFC3986'>Section 6<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> [RFC3986].
          At minimum, an LS-URI scheme SHOULD do the following:
          </p>
<ul class="text">
<li>Normalize unrestricted percent-encodings to the unrestricted form.
</li>
<li>Normalize num-t to either dec-t or hex-t.
</li>
<li>If the scheme allows for value-only segments or query components and
              interprets them as a default type, they should be normalized to having
              the type specified.
</li>
<li>If the scheme allows for undefined labels and represents them,
              for example, as num-t, then it should normalize all labels to their
              corresponding num-t.  If "name", for example, is known to be %x50 in
              a binary encoding of the URI, then all labels should be compared using
              their numeric value.
</li>
</ul><p>
        
</p>
<a name="CCNx"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Application to CCNx Names</h3>

<a name="labels"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
The ccnx Scheme</h3>

<p>This section describes the CCNx URI scheme "ccnx:" for Labeled Names.
        A Labeled Name assigns a semantic type or label to each segment of
        the hierarchical content Name.
</p>
<p>Unless otherwise specified, a name segment is an arbitrary sequence of octets.
</p>
<p>Several name segment labels are binary unsigned integers.  These are always encoded as variable length
      sequences of 1 or more octets in network byte order using the shortest representation (i.e. no leading %x00).
      The value of "0" is encoded as the single byte of "%x00".  A zero-length sequence must be interpreted
      as "not present."
</p>
<p>
      The CCNx Name segment types are:
        </p>
<ul class="text">
<li>Name Segment: A generic name segment that includes arbitrary octets.
</li>
<li>Application Type N: An application may use application-specific parameters, numbered
          as integers, where N is from 0 to a system-specific maximum, not less than 255.  These
          are represented as "App:1=value", for example.
</li>
</ul><p>
      
</p>
<p>It is common for an information centric networking protocol, such as CCNx or NDN, to
       use a binary on-the-wire representation for messages.  Such protocols, if they use the
       ccnx: scheme, must have an appropriate codec that unambiguously represents Labeled
       Content Information in the chosen wire format.  Relative dot-segments should not
       occur in the wire format, they should be resolved before encoding.
</p>
<a name="URI"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
URI Representation</h3>

<p>Typed Names use a standard RFC 3986 representation following the LS-URI convention.
        A name segment consists of any
        "unreserved" characters plus percent-encoded characters.  Reserved characters must be
         percent encoded.
</p>
<p>Within an absolute path, each segment consists of an "ls-segment" (c.f. LS-URI).
      A labeled segment is a type and a name component value, with a URI representation
      of "type=value".  The "type=" portion may be omitted if it is type Name.
</p>
<p>Some name types take a parameter, such as the Application types.  They are represented
      as "A:nnn=value", where the "nnn" is the application type number and value is the name
      component.
</p>
<p>A CCNx URI MUST NOT include an Authority, Query, or Fragment.  It is an error
      to include them.
</p>
<p>Dot-segments (relative name components) are resolved when the URI is converted to
      a Typed Name.  The "." dot-segment is removed.  The ".." dot-segment is removed along
      with the previous non-dot-segment.
</p><br /><hr class="insert" />
<a name="message_type"></a>
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="center"><col align="center"><col align="center">
<tr><th align="center">Type</th><th align="center">Display</th><th align="center">Name</th></tr>
<tr>
<td align="center">'Name'</td>
<td align="center">Hexadecimal</td>
<td align="center">Name Segment</td>
</tr>
<tr>
<td align="center">'IPID'</td>
<td align="center">Hexadecimal</td>
<td align="center">Interest Payload Identifier segment</td>
</tr>
<tr>
<td align="center">'App:0' - 'App:255'</td>
<td align="center">Hexadecimal</td>
<td align="center">Application Component</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1: The CCNx URI Scheme Types&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="Examples"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Examples</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
A name / is
    ccnx:/ and is a 0-length name.

A name /Name= is
    ccnx:/Name= and is a 1-segment name of 0-length.

A name /foo/bar.
   ccnx:/Name=foo/Name=bar
   ccnx:/foo/Name=bar
   ccnx:/foo/bar

A name /foo/bar with key %xA0.
    ccnx:/Name=foo/Name=bar/App:1=0xA0

A name /foo/bar with version %xA0 and App:2 value 0x09.
    ccnx:/foo/bar/Version=0xA0/App:2=0x09

A name /foo/.., where the ".." is a literal name component,
not a relative dot-segment.
   ccnx:/foo/Name=..

A name /foo/bar with application type 0 "hello"
and application type 1 "world".
   ccnx:/Name=foo/Name=bar/App:0=hello/App:1=world
</pre></div>
<a name="compareb"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
ccnx: URI comparison</h3>

<p>While most comparisons are done using a wire format representation
        of a ccnx: URI, some applications may compare the CCNx URI using
      their URI representation.  This section defines the rules for
      comparing ccnx: URIs using the methods of <a class='info' href='#RFC3986'>Section 6<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> [RFC3986]
      
</p>
<p>Comparing typed name URIs must be done with:
        </p>
<ul class="text">
<li>Syntax-based normalization
</li>
<li>Case normalization: normalize the representation of percent encodings.
          ccnx: does not use the host portion of the URI, and should be ignored if
          present.
</li>
<li>Percent encoding normalization: Percent encodings of unreserved
          characters must be converted to the unreserved character.
</li>
<li>Path segment normalization: dot-segments must be resolved first.
</li>
<li>Scheme-based normalization: The authority should be removed and
          the path represented as an absolute path.
</li>
<li>Protocol-based normalization: Should not be done.  A trailing
          slash indicates a zero-length terminal name component and signifies
          a different name.
</li>
<li>typed-name-segment normalization: All segments should be presented
          with their type, do not elide the "N=" for Name components.
</li>
<li>Binary unsigned integer normalization: remove any leading %x00
          from numbers, leaving only the terminal %x00 for "0".
</li>
<li>type parameters: they must have their percent encodings normalized.
          If they are integers, such as for the 'A' type, they must not have
          leading zeros.
</li>
</ul><p>
      
</p>
<a name="IRI"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
IRI Considerations</h3>

<p>International Resource Identifiers extend the unreserved character set
        to include characters above U+07F and encode them using percent encoding.
        This extension is compatible with the ccnx: schema.  It applies only to the
        "value" portion of an ls-segment.
</p>
<p>The canonical name is determined by the
        URI representation of the IRI, after applying the rules of Section 3.1
      of <a class='info' href='#RFC3987'>[RFC3987]<span> (</span><span class='info'>Duerst, M. and M. Suignard, &ldquo;Internationalized Resource Identifiers (IRIs),&rdquo; January&nbsp;2005.</span><span>)</span></a> and resolving dot-segments.  The canonical name thus includes the
      URI representation of language markers, including the bidirectional
      components.
</p>
<p>The value of a UTF-8 Name segment should be interpreted using IRI rules,
      including bidirectional markers.  They may be displayed using localized
      formats.
</p>
<p>Binary unsigned integer types are not interpreted
      under IRI rules, they are specifically percent encoded numbers.  They may be
      displayed using a localized format.
</p>
<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Acknowledgements</h3>

<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>This memo includes no request to IANA.
</p>
<p>All drafts are required to have an IANA considerations section (see <a class='info' href='#RFC5226'>Guidelines for Writing an IANA Considerations Section in RFCs<span> (</span><span class='info'>Narten, T. and H. Alvestrand, &ldquo;Guidelines for Writing an IANA Considerations Section in RFCs,&rdquo; May&nbsp;2008.</span><span>)</span></a> [RFC5226] for a guide). If the
        draft does not require IANA to do anything, the section contains an explicit statement that
        this is the case (as above). If there are no requirements for IANA, the section will be
        removed during conversion into an RFC by the RFC Editor.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>All drafts are required to have a security considerations section. See <a class='info' href='#RFC3552'>RFC 3552<span> (</span><span class='info'>Rescorla, E. and B. Korver, &ldquo;Guidelines for Writing RFC Text on Security Considerations,&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3552] for a guide.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text">Bradner, S., &ldquo;<a href="http://www.rfc-editor.org/info/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, DOI&nbsp;10.17487/RFC2119, March&nbsp;1997.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3552">[RFC3552]</a></td>
<td class="author-text">Rescorla, E. and B. Korver, &ldquo;<a href="http://www.rfc-editor.org/info/rfc3552">Guidelines for Writing RFC Text on Security Considerations</a>,&rdquo; BCP&nbsp;72, RFC&nbsp;3552, DOI&nbsp;10.17487/RFC3552, July&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text">Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;<a href="http://www.rfc-editor.org/info/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, DOI&nbsp;10.17487/RFC3986, January&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3987">[RFC3987]</a></td>
<td class="author-text">Duerst, M. and M. Suignard, &ldquo;<a href="http://www.rfc-editor.org/info/rfc3987">Internationalized Resource Identifiers (IRIs)</a>,&rdquo; RFC&nbsp;3987, DOI&nbsp;10.17487/RFC3987, January&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5226">[RFC5226]</a></td>
<td class="author-text">Narten, T. and H. Alvestrand, &ldquo;<a href="http://www.rfc-editor.org/info/rfc5226">Guidelines for Writing an IANA Considerations Section in RFCs</a>,&rdquo; BCP&nbsp;26, RFC&nbsp;5226, DOI&nbsp;10.17487/RFC5226, May&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5234">[RFC5234]</a></td>
<td class="author-text">Crocker, D., Ed. and P. Overell, &ldquo;<a href="http://www.rfc-editor.org/info/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>,&rdquo; STD&nbsp;68, RFC&nbsp;5234, DOI&nbsp;10.17487/RFC5234, January&nbsp;2008.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Marc Mosko</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">PARC, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Palo Alto, California  94304</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+01 650-812-4405</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:marc.mosko@parc.com">marc.mosko@parc.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Christopher A. Wood</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">PARC, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Palo Alto, California  94304</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+01 650-812-4421</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:christopher.wood@parc.com">christopher.wood@parc.com</a></td></tr>
</table>
</body></html>
